<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pomofocus</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #d95550;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: white;
        }
        .container {
            background-color: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            width: 350px;
            text-align: center;
        }
        .timer {
            font-size: 80px;
            margin: 20px 0;
        }
        .mode-buttons {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .mode-buttons button {
            background: none;
            border: none;
            color: white;
            margin: 0 10px;
            cursor: pointer;
            opacity: 0.7;
        }
        .mode-buttons button.active {
            opacity: 1;
            font-weight: bold;
        }
        .start-btn {
            background-color: white;
            color: #d95550;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        .task-section {
            margin-top: 20px;
        }
        .task-input {
            display: flex;
            margin-bottom: 10px;
        }
        .task-input input {
            flex-grow: 1;
            padding: 5px;
            margin-right: 10px;
        }
        .task-list {
            text-align: left;
        }
        .task-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        .task-item input[type="checkbox"] {
            margin-right: 10px;
        }
        .task-item.completed span {
            text-decoration: line-through;
            color: #888;
        }
        .delete-task {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="mode-buttons">
            <button id="pomodoroMode" class="active">Pomodoro</button>
            <button id="shortBreakMode">Short Break</button>
            <button id="longBreakMode">Long Break</button>
        </div>
        
        <div class="timer" id="timer">25:00</div>
        
        <button class="start-btn" id="startBtn">START</button>
        
        <div class="task-section">
            <div class="task-input">
                <input type="text" id="taskInput" placeholder="Add a task">
                <button id="addTaskBtn">+</button>
            </div>
            <div class="task-list" id="taskList"></div>
        </div>
    </div>

    <script>
        class PomodoroTimer {
            constructor() {
                this.timer = document.getElementById('timer');
                this.startBtn = document.getElementById('startBtn');
                this.taskInput = document.getElementById('taskInput');
                this.addTaskBtn = document.getElementById('addTaskBtn');
                this.taskList = document.getElementById('taskList');

                this.modes = {
                    pomodoro: 25 * 60,
                    shortBreak: 5 * 60,
                    longBreak: 15 * 60
                };

                this.currentMode = 'pomodoro';
                this.timeRemaining = this.modes.pomodoro;
                this.isRunning = false;
                this.intervalId = null;

                this.initEventListeners();
            }

            initEventListeners() {
                // Mode buttons
                document.getElementById('pomodoroMode').addEventListener('click', () => this.setMode('pomodoro'));
                document.getElementById('shortBreakMode').addEventListener('click', () => this.setMode('shortBreak'));
                document.getElementById('longBreakMode').addEventListener('click', () => this.setMode('longBreak'));

                // Start/Pause button
                this.startBtn.addEventListener('click', () => this.toggleTimer());

                // Task input
                this.addTaskBtn.addEventListener('click', () => this.addTask());
                this.taskInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addTask();
                });
            }

            setMode(mode) {
                // Remove active class from all mode buttons
                ['pomodoroMode', 'shortBreakMode', 'longBreakMode'].forEach(id => {
                    document.getElementById(id).classList.remove('active');
                });

                // Add active class to selected mode
                document.getElementById(`${mode}Mode`).classList.add('active');

                // Stop current timer
                this.stopTimer();

                // Set new mode and time
                this.currentMode = mode;
                this.timeRemaining = this.modes[mode];
                this.updateTimerDisplay();
            }

            toggleTimer() {
                if (this.isRunning) {
                    this.stopTimer();
                } else {
                    this.startTimer();
                }
            }

            startTimer() {
                this.isRunning = true;
                this.startBtn.textContent = 'PAUSE';
                this.intervalId = setInterval(() => {
                    this.timeRemaining--;
                    this.updateTimerDisplay();

                    if (this.timeRemaining <= 0) {
                        this.stopTimer();
                        // Optional: Add sound or notification
                    }
                }, 1000);
            }

            stopTimer() {
                this.isRunning = false;
                this.startBtn.textContent = 'START';
                clearInterval(this.intervalId);
            }

            updateTimerDisplay() {
                const minutes = Math.floor(this.timeRemaining / 60);
                const seconds = this.timeRemaining % 60;
                this.timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            addTask() {
                const taskText = this.taskInput.value.trim();
                if (taskText) {
                    const taskItem = document.createElement('div');
                    taskItem.classList.add('task-item');
                    taskItem.innerHTML = `
                        <input type="checkbox">
                        <span>${taskText}</span>
                        <button class="delete-task">üóëÔ∏è</button>
                    `;

                    const checkbox = taskItem.querySelector('input[type="checkbox"]');
                    const span = taskItem.querySelector('span');
                    const deleteBtn = taskItem.querySelector('.delete-task');

                    checkbox.addEventListener('change', () => {
                        taskItem.classList.toggle('completed');
                    });

                    deleteBtn.addEventListener('click', () => {
                        this.taskList.removeChild(taskItem);
                    });

                    this.taskList.appendChild(taskItem);
                    this.taskInput.value = '';
                }
            }
        }

        // Initialize the Pomodoro Timer
        new PomodoroTimer();
    </script>
</body>
</html>